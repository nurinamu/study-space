import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStreamReader;
import java.io.OutputStreamWriter;
import java.util.StringTokenizer;


public class AlgoBase {
	private BufferedReader br = null;
	private BufferedWriter bw = null;
	
	public AlgoBase(String fileName_p, boolean createOutput_p){
		try {
			br = new BufferedReader(
					new InputStreamReader(
							new FileInputStream(new File(fileName_p))));
			if(createOutput_p){
				bw = new BufferedWriter(
						new OutputStreamWriter(
								new FileOutputStream(new File(fileName_p+".out"))));
			}
		} catch (FileNotFoundException e) {
			e.printStackTrace();
		}
	}
	
	public String[] readNext(){
		String[] retStrArr = null;
	
		if(br != null){
			try {
				String nextStr = br.readLine();
				StringTokenizer stoken = new StringTokenizer(nextStr, " ");
				retStrArr = new String[stoken.countTokens()];
				int idx=0;
				while(stoken.hasMoreTokens()){
					retStrArr[idx++] = stoken.nextToken();
				}
			} catch (IOException e) {
				e.printStackTrace();
			}
		}
		
		return retStrArr;
		
	}
	
	public void write(String msg_p){
		if(bw != null){
			try {
				bw.write(msg_p);
			} catch (IOException e) {
				e.printStackTrace();
			}
		}else{
			System.out.println(bw);
		}
	}
}
